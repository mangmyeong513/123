<!-- mobile_ladder_ads_demo.html
학습/디자인 데모용 — 실제 결제/송금/배당 없음. 광고 연출만 재현함. -->
<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>모바일 사다리 데모 — 광고맛</title>
<style>
  :root{--bg:#0f1724;--card:#0b1220;--accent:#ff3b3b;--accent2:#3b82f6;--gold:#ffd166}
  html,body{height:100%;margin:0;font-family:Inter, "Apple SD Gothic Neo","Malgun Gothic",system-ui;background:linear-gradient(180deg,#0b1220,#071027);color:#fff}
  .wrap{max-width:420px;margin:0 auto;padding:12px}
  /* TOP flashy ad belt */
  .top-ads{display:flex;gap:8px;overflow:hidden;padding:6px 0}
  .ad-pill{min-width:160px;height:56px;border-radius:10px;flex-shrink:0;display:flex;align-items:center;justify-content:center;font-weight:800;box-shadow:0 6px 18px rgba(0,0,0,0.6);position:relative;cursor:pointer}
  .ad-anim{animation:glint 1.6s linear infinite}
  @keyframes glint{0%{filter:brightness(1)}50%{filter:brightness(1.6)}100%{filter:brightness(1)}}
  .ad1{background:linear-gradient(90deg,#ff4d4d,#ffb86b);color:#1a0315}
  .ad2{background:linear-gradient(90deg,#0ea5e9,#7c3aed);color:#fff}
  .ad3{background:linear-gradient(90deg,#34d399,#10b981);color:#062017}
  .ad4{background:linear-gradient(90deg,#ffd166,#ff8fab);color:#2b0800}
  /* marquee banner */
  .marquee{width:100%;overflow:hidden;margin:10px 0;background:linear-gradient(90deg,#111827,#0b1220);padding:8px;border-radius:10px}
  .marquee .txt{display:inline-block;white-space:nowrap;animation:marq 10s linear infinite}
  @keyframes marq{0%{transform:translateX(100%)}100%{transform:translateX(-100%)}}
  /* main card */
  .card{background:linear-gradient(180deg,#081222,#0d1830);border-radius:12px;padding:14px;box-shadow:0 10px 30px rgba(2,6,23,0.7)}
  .hdr{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
  .hdr .title{font-weight:800}
  .balance{font-weight:700;background:#071125;padding:6px 8px;border-radius:8px;font-size:13px}
  /* ladder area */
  .ladder{display:flex;gap:10px;align-items:center;justify-content:space-between}
  .col{flex:1;min-height:160px;border-radius:10px;background:linear-gradient(180deg,#0b1626,#06101a);display:flex;flex-direction:column;align-items:center;justify-content:center;padding:10px}
  .peg{width:56px;height:56px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:900;font-size:18px}
  .peg.odd{background:linear-gradient(180deg,#ff7b7b,#ff3b3b);color:white}
  .peg.even{background:linear-gradient(180deg,#60a5fa,#2563eb);color:white}
  .btn-row{display:flex;gap:8px;margin-top:10px}
  .btn{flex:1;padding:10px;border-radius:10px;border:none;font-weight:800;cursor:pointer}
  .btn-bet{background:linear-gradient(90deg,#ff6b6b,#ff3b3b);color:#fff}
  .btn-bet2{background:linear-gradient(90deg,#60a5fa,#2563eb);color:#fff}
  .result{margin-top:12px;padding:10px;border-radius:10px;background:linear-gradient(90deg,#061022,#0b1430);text-align:center;font-weight:800}
  /* history strip */
  .history{margin-top:10px;display:flex;gap:6px;overflow:auto;padding-bottom:6px}
  .h-item{min-width:64px;padding:8px;border-radius:8px;background:#071225;text-align:center;font-size:12px}
  /* bottom sticky fake overlay ads */
  .sticky-ads{position:fixed;left:0;right:0;bottom:0;padding:10px;display:flex;gap:8px;justify-content:center;align-items:center;pointer-events:none}
  .sticky-ads .ad{pointer-events:auto;background:linear-gradient(90deg,#ff8fab,#ffb86b);padding:10px 14px;border-radius:999px;font-weight:900;box-shadow:0 12px 30px rgba(0,0,0,0.6)}
  /* modal */
  .modal{position:fixed;inset:0;background:rgba(0,0,0,0.6);display:flex;align-items:center;justify-content:center;z-index:60;display:none}
  .modal .box{background:#0b1220;padding:12px;border-radius:12px;max-width:360px;width:92%;text-align:center}
  /* small text */
  .muted{font-size:12px;color:#9bb7d8;margin-top:6px}
</style>
</head>
<body>
<div class="wrap">
  <!-- top flashy ad belt -->
  <div class="top-ads" id="topAds">
    <div class="ad-pill ad1 ad-anim" data-ad="1">신규 30% 보너스</div>
    <div class="ad-pill ad2 ad-anim" data-ad="2">스포츠 배당 1.90</div>
    <div class="ad-pill ad3 ad-anim" data-ad="3">추천코드 보너스</div>
    <div class="ad-pill ad4 ad-anim" data-ad="4">VIP 즉시지급</div>
  </div>

  <!-- marquee -->
  <div class="marquee"><div class="txt">⚡ 한정 이벤트: 광고 시 데모 포인트 +10% 지급 · 디자인 연출 전용 · 실제머니 아님 ⚡</div></div>

  <div class="card" id="mainCard">
    <div class="hdr">
      <div class="title">사다리게임 — 모바일 데모</div>
      <div class="balance" id="balance">500</div>
    </div>

    <div class="ladder">
      <div class="col">
        <div class="peg odd" id="pegL">홀</div>
        <div style="margin-top:8px;color:#9bb7d8;font-size:13px">구매율 <span id="pL">45%</span></div>
      </div>

      <div style="width:72px;display:flex;flex-direction:column;align-items:center;justify-content:center">
        <button class="btn btn-bet" id="rollBtn">추첨</button>
        <div style="height:8px"></div>
        <button class="btn btn-bet2" id="adClick">광고클릭</button>
      </div>

      <div class="col">
        <div class="peg even" id="pegR">짝</div>
        <div style="margin-top:8px;color:#9bb7d8;font-size:13px">구매율 <span id="pR">55%</span></div>
      </div>
    </div>

    <div class="result" id="result">결과 대기 중</div>

    <div class="btn-row" style="margin-top:8px">
      <input id="betAmt" type="number" value="50" min="1" style="width:36%;border-radius:10px;padding:8px;border:none;background:#061224;color:#fff;font-weight:700"/>
      <button class="btn btn-bet" id="betOdd" style="width:32%">홀 베팅</button>
      <button class="btn btn-bet2" id="betEven" style="width:32%">짝 베팅</button>
    </div>

    <div class="muted">학습/디자인 데모용 — 실제 돈 연동 금지 😤</div>

    <div class="history" id="history" aria-hidden="true"></div>
  </div>
</div>

<!-- sticky ad (fixed) -->
<div class="sticky-ads">
  <div class="ad" id="stickyAd">🔥 지금 클릭하면 데모보너스!</div>
</div>

<!-- modal for ad click -->
<div class="modal" id="modal">
  <div class="box">
    <div style="font-weight:900;font-size:16px">광고 팝업 — 데모 연출</div>
    <div style="margin-top:8px;color:#9bb7d8">광고를 보았으니 데모 포인트 +10 (실제 지급 아님)</div>
    <div style="margin-top:12px"><button class="btn btn-bet" id="closeModal" style="width:100%">닫기</button></div>
  </div>
</div>

<script>
  // ⚠️ 경고: 이 페이지는 **학습/디자인 데모**임. 실제 결제/계좌/현금 절대 연결 금지.
  const balanceEl = document.getElementById('balance');
  const resultEl = document.getElementById('result');
  const pL = document.getElementById('pL'), pR = document.getElementById('pR');
  const historyEl = document.getElementById('history');
  const modal = document.getElementById('modal');
  const stickyAd = document.getElementById('stickyAd');

  let balance = 500;
  let leftPct = 45, rightPct = 55;
  let hist = [];

  function save(){ localStorage.setItem('mobile_ladder_demo', JSON.stringify({balance,leftPct,rightPct,hist})); }
  function load(){ const s = localStorage.getItem('mobile_ladder_demo'); if(s){ const o=JSON.parse(s); balance=o.balance||balance; leftPct=o.leftPct||leftPct; rightPct=o.rightPct||rightPct; hist=o.hist||hist; } }
  function render(){
    balanceEl.textContent = balance;
    pL.textContent = Math.round(leftPct)+'%'; pR.textContent = Math.round(rightPct)+'%';
    historyEl.innerHTML = hist.slice(0,12).map(h=>`<div class="h-item" style="background:${h.choice==='홀'?'linear-gradient(180deg,#ff7b7b,#ff3b3b)':'linear-gradient(180deg,#60a5fa,#2563eb)'}">${h.choice}<div style="font-size:11px;margin-top:6px">${h.roll}</div></div>`).join('');
  }

  // crypto RNG 1..10
  function secureRand(min,max){
    const range = max-min+1;
    const arr = new Uint32Array(1);
    while(true){
      crypto.getRandomValues(arr);
      return min + (arr[0] % range);
    }
  }

  function adjustMarket(){
    leftPct = Math.max(10, Math.min(90, leftPct + (Math.random()*10 - 5)));
    rightPct = 100 - leftPct;
  }

  function play(choice, amt){
    amt = Math.max(1, Math.floor(Number(amt)||10));
    if(amt>balance){ alert('잔액 부족 ㅇ'); return; }
    adjustMarket();
    const roll = secureRand(1,10);
    const resultChoice = (roll%2===0)?'짝':'홀';
    const win = (choice===resultChoice);
    if(win) balance += Math.floor(amt * 1); else balance -= amt;
    hist.unshift({choice: resultChoice, roll});
    if(hist.length>50) hist.pop();
    resultEl.textContent = `결과: ${roll} → ${resultChoice}  ${win? '승리 🎉' : '패배 😭'} ${win? ('+'+Math.floor(amt*1)) : ('-'+amt)} 포인트`;
    save(); render();
  }

  // 버튼 events
  document.getElementById('betOdd').addEventListener('click', ()=>{ play('홀', document.getElementById('betAmt').value); });
  document.getElementById('betEven').addEventListener('click', ()=>{ play('짝', document.getElementById('betAmt').value); });
  document.getElementById('rollBtn').addEventListener('click', ()=>{
    // 빠른 demo: 랜덤으로 베팅자 비율에 따라 연출
    const amt = 30;
    const pick = (Math.random()*100 < leftPct) ? '홀' : '짝';
    play(pick, amt);
  });

  // ad interactions (visual only)
  document.getElementById('adClick').addEventListener('click', ()=>{ modal.style.display='flex'; });
  document.getElementById('closeModal').addEventListener('click', ()=>{
    modal.style.display='none';
    // fake bonus
    balance += 10; // demo only
    // small puff animation on sticky (text change)
    stickyAd.textContent = '보너스 +10 (데모)';
    setTimeout(()=>stickyAd.textContent='🔥 지금 클릭하면 데모보너스!', 1800);
    save(); render();
  });

  // animated top ad click behavior: show alert modal
  document.querySelectorAll('.ad-pill').forEach(a=>{
    a.addEventListener('click', ()=>{
      alert('광고 클릭 (디자인 연출). 실제 결제/환급 없음.');
    });
  });

  // auto shimmering effect toggle for mobile: increase brightness often
  // 이미 CSS 애니 있음; 추가로 탭시 흔들림 효과
  document.querySelectorAll('.ad-pill').forEach(el=>{
    el.addEventListener('touchstart', ()=>{ el.style.transform='scale(1.04)'; });
    el.addEventListener('touchend', ()=>{ el.style.transform='scale(1)'; });
  });

  // init
  load(); render();
</script>
</body>
</html>
